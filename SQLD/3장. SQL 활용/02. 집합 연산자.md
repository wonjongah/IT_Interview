두 개 이상의 테이블에서 조인을 사용하지 않고 연관된 데이터를 조회하는 방법 중에 또 다른 방법이 있는데 바로 집합 연산자를 사용하는 방법이다.

<u>집합 연산자는 여러 개의 질의의 결과를 연결해서 하나로 결합하는 방식을 사용한다.</u>

즉, 집합 연산자는 2개 이상의 질의 결과를 하나의 결과로 만들어준다.

<u>일반적으로 집합 연산자를 사용하는 상황은 서로 다른 테이블에서 유사한 형태의 결과를 반환하는 것을 하나의 결과로 합치고자 할 때와 동일 테이블에서 서로 다른 질의를 수행해 결과를 합치고자 할 때 사용할 수 있다. 이외에도 튜닝 관점에서 실행 계획을 분리하고자 하는 목적으로도 사용할 수 있다.</u>

<u>집합 연산자를 사용하기 위해서는 SELECT 절의 칼럼 수가 동일하고, SELECT 절의 동일 위치에 존재하는 칼럼의 데이터 타입이 상호 호환 가능해야 한다.</u> 그렇지 않으면 데이터베이스가 오류를 반환한다.



##### 집합 연산자의 종류

| 집합 연산자                                    | 연산자의 의미                                                |
| ---------------------------------------------- | ------------------------------------------------------------ |
| UNION                                          | 여러 개의 SQL 문의 결과에 대한 합집합으로 결과에서 모든 중복된 행은 하나의 행으로 만든다. |
| UNION ALL (정렬하지 않기 위해 쓸 경우도 있다.) | <u>여러 개의 SQL문의 결과에 대한 합집합으로 중복된 행도 그대로 결과로 표시된다.</u> 즉, 단순히 결과만 합쳐놓은 것이다. 일반적으로 여러 질의 결과가 상호 배타적일 때 많이 사용한다. 개별 SQL문의 결과가 서로 중복되지 않는 경우, UNION과 결과가 동일하다. |
| INTERSECT                                      | 여러 개의 SQL문의 결과에 대한 교집합이다. 중복된 행은 하나의 행으로 만든다. |
| EXCEPT                                         | 앞의 SQL문의 결과에서 뒤의 SQL문의 결과에 대한 차집합이다. 중복된 행은 하나의 행으로 ㅁ나든다. |

UNION ALL은 두 집합을 모두 합한 것이라고 생각하면 된다.

EX) A = {1, 2, 2, 2, 3} UNION ALL B = {1, 1, 2, 5, 6} => {1, 2, 2, 2, 3, 1, 1, 2, 5, 6}

UNION은 중복 제거.



집합 연산자를 상요해서 만들어지는 SQL 문의 형태는 다음과 같다.

```

```

