#### 1. 절차형 SQL 개요

절차형 SQL을 이용하면 SQL문의 연속적인 실행이나 조건에 따른 분기처리를 이용해 특정 기능을 수행하는 저장 모듈을 생성할 수 있다.

절차형 SQL을 이용해 만들 수 있는 저장 모듈인 PROCEDURE USER DEFINED FUNCTION, TRIGGER에 대해 살펴본다.



#### 2. PL/SQL 개요

##### 1. PL/SQL 특징

<u>ORACLE의 PL/SQL은 BLOCK 구조로 되어 있고, BLOCK 내에는 DML 문장과 QUERY 문장, 그리고 절차형 언어(IF, LOOP) 등을 사용할 수 있으며, 절차적 프로그래밍을 가능하게 하는 트랜잭션 언어이다.</u>

이런 PL/SQL을 이용하여 다양한 저장모듈을 개발할 수 있다.

<u>저장모듈이란 PL/SQL 문장을 데이터베이스 서버에 저장하여 사용자와 애플리케이션 사이에서 공유할 수 있도록 만든 일종의 SQL 컴포넌트 프로그램이며, 독립적으로 실행되거나 다른 프로그램으로부터 실행될 수 있는 완전한 실행 프로그램이다.</u>

<u>ORACLE의 저장모듈에는 PROCEDURE, USER DEFINED FUNCTION, TRIGGER가 있다.</u>



PL/SQL의 틀징은 다음과 같다.

- PL/SQL은 BLOCK 구조로 되어 있어 각 기능별로 모듈화가 가능하다.
- 변수, 상수 등을 선언하여 SQL 문장 간 값을 교환한다.
- IF, LOOP 등의 절차형 언어를 사용해 절차적인 프로그램이 가능하도록 한다.
- DBMS 정의 에러나 사용자 정의 에러를 정의해 사용할 수 있다.
- PL/SQL은 ORACLE에 내장되어 있으므로 ORACLE과 PL/SQL을 지원하는 어떤 서버로도 프로그램을 옮길 수 있다.
- PL/SQL은 응용프로그램의 성능을 향상시킨다.
- PL/SQL은 여러 SQL 문장을 BLOCK으로 묶고 한 번에 BLOCK 전부를 서버로 보내기 때문에 통신량을 줄일 수 있다.

블록으로 묶기 때문에 엔진에 들어가면 블록단위로 문장을 구분해 처리할 수 있다.



##### 2. PL/SQL 구조

```SQL
DECLARE
-- 선언부(변수, 상수)
-- BEGIN ~ END에서 사용할 변수나 인수에 대한 정의 및 데이터 타입 선언

BEGIN
-- 실행부
-- 개발자가 처리하고자 하는 SQL문과 필요한 로직이 정의되는 실행부

EXCEPTION
-- 예외 처리부
-- 선택 항목
-- BEGIN ~ END에서 실행되는 SQL문에 발생된 에러를 처리하는 에러 처리부

END
```



##### 3. PL/SQL 기본 문법

